See http://metomi.github.io/rose/doc/rose-rug-advanced-tutorials-queues.html.
